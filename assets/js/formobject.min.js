!function(e){if(e.fn.formJSON=function(){for(var t=e(this),r=t.find("[name]"),a={},i={},f=0;f<r.length;f++){var s=e(r[f]),o=s.prop("name").replace(/\]/gi,"").split("["),d=s.val(),c={};if(!s.is(":radio")&&!s.is(":checkbox")||s.is(":checked")){for(var n=o.length-1;n>=0;n--){var l=o[n];if("undefined"==typeof l&&(l=""),0===l.length&&(c=[],"undefined"==typeof i[o[n-1]]?i[o[n-1]]=0:i[o[n-1]]+=1,l=i[o[n-1]]),n===o.length-1){if(d)if("true"===d)d=!0;else if("false"===d)d=!1;else if(isNaN(parseFloat(d))||parseFloat(d).toString()!==d)if("string"!=typeof d||"{"!==d.substr(0,1)&&"["!==d.substr(0,1)){if("object"==typeof d&&d.length&&s.is("select")){for(var g={},n=0;n<d.length;n++)g["n"+n]=d[n];d=g}}else try{d=JSON.parse(d)}catch(h){}else d=parseFloat(d);c[l]=d}else{var p=c;c={},c[l]=p}}e.extend(!0,a,c)}}return a},e(".caldera_forms_form").on("click",".cf-form-trigger",function(t){var r=e(this);form=r.closest("form.caldera_forms_form"),form_id=form.prop("id"),calderaforms=window[form_id],data=form.formJSON(),fields={},target=r.data("target");for(var a in calderaforms)fields[calderaforms[a].slug]=data[a];if("function"==typeof window[target])window[target](fields,t);else{try{var i=e(target)}catch(f){}if(i&&i.length){fields=JSON.stringify(fields);var s=["textarea","text","hidden"];i.each(function(t,r){this.type&&s.indexOf(this.type)>=0?e(this).val(fields).trigger("change"):this.innerHTML=fields})}else e.post(target,fields)}}),cfModals){var t=e("head"),r=e("body");for(var a in cfModals.style)e("#cf-"+a+"-styles-css").length||t.append('<link id="cf-'+a+'-styles-css" rel="stylesheet" type="text/css" href="'+cfModals.style[a]+'">');for(var i in cfModals.script)e('script[src^="'+cfModals.script[i]+'"]').length||r.append('<script src="'+cfModals.script[i]+'" type="text/javascript">');e(document).on("click",".caldera-forms-modal",function(){var t=e(this);if(t.data("form"))var r=t.calderaModal({modal:t.data("form"),width:100,height:100,content:function(){return e.get("/cf-api/"+t.data("form")+"/",function(a){var i=e("#"+t.data("form")+"_calderaModalContent");r.config.width=t.data("width")?t.data("width"):500,r.resize(),i.html(a),resBaldrickTriggers(),e(document).on("cf.modal cf.remove cf.add cf.submission cf.pagenav cf.error",function(){t.data("height")?r.config.hegiht=t.data("height"):r.config.height=i.outerHeight()+r.config.padding,r.resize()}),e(document).trigger("cf.modal")}),'<div class="caldera-grid cf_processing" style="width: 75px; height: 75px;"></div>'}})})}}(jQuery);